/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||(function(h){if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var s=h.document,m=function(){return h.URL||h.webkitURL||h},o=s.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download" in o,k=function(u){var t=new MouseEvent("click");u.dispatchEvent(t)},b=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),p=h.webkitRequestFileSystem,q=h.requestFileSystem||p||h.mozRequestFileSystem,n=function(t){(h.setImmediate||h.setTimeout)(function(){throw t},0)},c="application/octet-stream",l=0,i=1000*40,j=function(u){var t=function(){if(typeof u==="string"){m().revokeObjectURL(u)}else{u.remove()}};setTimeout(t,i)},r=function(u,t,x){t=[].concat(t);var w=t.length;while(w--){var y=u["on"+t[w]];if(typeof y==="function"){try{y.call(u,x||u)}catch(v){n(v)}}}},g=function(t){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)){return new Blob(["\ufeff",t],{type:t.type})}return t},e=function(t,u,v){if(!v){t=g(t)}var w=this,C=t.type,F=false,y,x,B=function(){r(w,"writestart progress write writeend".split(" "))},E=function(){if(x&&b&&typeof FileReader!=="undefined"){var G=new FileReader();G.onloadend=function(){var I=G.result;x.location.href="data:attachment/file"+I.slice(I.search(/[,;]/));w.readyState=w.DONE;B()};G.readAsDataURL(t);w.readyState=w.INIT;return}if(F||!y){y=m().createObjectURL(t)}if(x){x.location.href=y}else{var H=h.open(y,"_blank");if(H===undefined&&b){h.location.href=y}}w.readyState=w.DONE;B();j(y)},A=function(G){return function(){if(w.readyState!==w.DONE){return G.apply(this,arguments)}}},z={create:true,exclusive:false},D;w.readyState=w.INIT;if(!u){u="download"}if(f){y=m().createObjectURL(t);setTimeout(function(){o.href=y;o.download=u;k(o);B();j(y);w.readyState=w.DONE});return}if(h.chrome&&C&&C!==c){D=t.slice||t.webkitSlice;t=D.call(t,0,t.size,c);F=true}if(p&&u!=="download"){u+=".download"}if(C===c||p){x=h}if(!q){E();return}l+=t.size;q(h.TEMPORARY,l,A(function(G){G.root.getDirectory("saved",z,A(function(H){var I=function(){H.getFile(u,z,A(function(J){J.createWriter(A(function(K){K.onwriteend=function(L){x.location.href=J.toURL();w.readyState=w.DONE;r(w,"writeend",L);j(J)};K.onerror=function(){var L=K.error;if(L.code!==L.ABORT_ERR){E()}};"writestart progress write abort".split(" ").forEach(function(L){K["on"+L]=w["on"+L]});K.write(t);w.abort=function(){K.abort();w.readyState=w.DONE};w.readyState=w.WRITING}),E)}),E)};H.getFile(u,{create:false},A(function(J){J.remove();I()}),A(function(J){if(J.code===J.NOT_FOUND_ERR){I()}else{E()}}))}),E)}),E)},d=e.prototype,a=function(u,v,t){return new e(u,v,t)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(u,v,t){if(!t){u=g(u)}return navigator.msSaveOrOpenBlob(u,v||"download")}}d.abort=function(){var t=this;t.readyState=t.DONE;r(t,"abort")};d.readyState=d.INIT=0;d.WRITING=1;d.DONE=2;d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null;return a}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content));if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else{if((typeof define!=="undefined"&&define!==null)&&(define.amd!==null)){define([],function(){return saveAs})}};