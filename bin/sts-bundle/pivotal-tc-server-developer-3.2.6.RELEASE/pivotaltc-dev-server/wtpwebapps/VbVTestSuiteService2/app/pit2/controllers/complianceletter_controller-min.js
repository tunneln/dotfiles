"use strict";var complLetterLinkMod=angular.module("ComplianceLetterLinkModule",[]);complLetterLinkMod.controller("ComplianceLetterCtrl",["$scope","ComplianceLetterService","$localStorage","$state","$rootScope","$sce",function(d,g,e,f,b,c){d.showpageLoadMsg="please request  for Compliance letter";d.unRegMsg="Compliance letter unavailable asÂ it has not been requested. Please click on conclude testing link to complete the process.";var a=e.userData;d.usrName=b.userData.username;d.usrTypCd=b.userData.usrTypCd;d.logUsr=b.loggedInUser;d.isPageloading=true;d.unRegUsr=false;d.ntAsingUsr=false;d.pendUsr=false;d.denyUsr=false;d.appUsr=false;d.submitComplLetterReq=function(){var j={UserName:d.usrName,};g.getComplianceStatus(j).then(function h(k){d.complDetails=k.data;d.isPageloading=false;if(d.complDetails.length==0){d.unRegUsr=true}else{if(d.complDetails.length>1){d.vendor="ACS and 3DSS Vendor";if(d.complDetails[0].ProductType=="ACS"){if(d.complDetails[0].ComplianceStatus=="NA"){d.ntAsingUsr=true;d.cmpStus="please request for Compliance letter."}else{if(d.complDetails[0].ComplianceStatus=="Pending Approval"){d.pendUsr=true;d.cmpStus="Your Compliance letter approval is pending at GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Denied"){d.denyUsr=true;d.cmpStus="Compliance letter is Denied. Please contact GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Approved"){d.appUsr=true}}}}}else{if(d.complDetails[0].ComplianceStatus=="NA"){d.ntAsingUsr=true;d.cmpStus="please request for Compliance letter."}else{if(d.complDetails[0].ComplianceStatus=="Pending Approval"){d.pendUsr=true;d.cmpStus="Your Compliance letter approval is pending at GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Denied"){d.denyUsr=true;d.cmpStus="Compliance letter is Denied. Please contact GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Approved"){d.appUsr=true}}}}}}else{if(d.complDetails[0].ProductType=="ACS"){d.vendor="ACS Vendor";if(d.complDetails[0].ComplianceStatus=="NA"){d.ntAsingUsr=true;d.cmpStus="please request for Compliance letter."}else{if(d.complDetails[0].ComplianceStatus=="Pending Approval"){d.pendUsr=true;d.cmpStus="Your Compliance letter approval is pending at GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Denied"){d.denyUsr=true;d.cmpStus="Compliance letter is Denied. Please contact GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Approved"){d.appUsr=true}}}}}else{d.vendor="3DSS Vendor";if(d.complDetails[0].ComplianceStatus=="NA"){d.ntAsingUsr=true;d.cmpStus="please request for Compliance letter."}else{if(d.complDetails[0].ComplianceStatus=="Pending Approval"){d.pendUsr=true;d.cmpStus="Your Compliance letter approval is pending at GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Denied"){d.denyUsr=true;d.cmpStus="Compliance letter is Denied. Please contact GCT Admin."}else{if(d.complDetails[0].ComplianceStatus=="Approved"){d.appUsr=true}}}}}}}},function i(k){})};d.submitComplLetterReq();d.openPdf=function(j,i){g.getPdf(j,i).then(function h(l){d.file=new Blob([l.data],{type:"application/pdf"});saveAs(d.file)},function k(l){})};complLetterLinkMod.filter("htmlvw",["$sce",function(h){return function(i){return h.trustAsHtml(i)}}])}]);