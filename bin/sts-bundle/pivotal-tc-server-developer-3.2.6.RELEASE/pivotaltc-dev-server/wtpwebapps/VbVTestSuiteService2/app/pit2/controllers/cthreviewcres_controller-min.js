"use strict";cthModule.controller("CTHRevewCResCtrl",["$scope","CTHCResService","$rootScope","$state","PIT2ReviewService",function(c,e,b,d,a){c.service=e;c.submitBtn=true;c.tcBtn=true;c.runAcsBtn=true;c.isPageLoading=false;c.getCRes=function(f){c.isPageLoading=true;e.getCRes(f).then(function(h,g){c.testCase=h.data.testCase;c.testCaseResults=h.data.testCaseResults;c.cResMessage=vkbeautify.json(h.data.cResMessage,2);c.cmpType=h.data.compType;if(c.cmpType=="ACS"||c.cmpType=="ACS_REQUIRED"){c.isACS=true}c.payerAuthUrl=h.data.payerAuthUrl;var i=angular.element(document.querySelector("#respinfoId"));i.html(h.data.validationRespMsg);c.allowVIPsubmit=h.data.allowVIPsubmit;c.transactionID=h.data.transactionId;if(h.data.expectedResponse!=null){c.expectedResponse=vkbeautify.xml(h.data.expectedResponse,2)}c.errResponseMsg=h.data.errResponseMsg;c.isPageLoading=false})};c.getCRes(b.txnId);c.jsonFormat=function(){var f=c.cResMessage;c.cResMessage=vkbeautify.json(f,1)};c.jsonUnformat=function(){var f=c.cResMessage;c.cResMessage=vkbeautify.jsonmin(f)};c.expjsonFormat=function(){var f=c.expectedResponse;c.expectedResponse=vkbeautify.json(f,1)};c.expjsonUnformat=function(){var f=c.expectedResponse;c.expectedResponse=vkbeautify.jsonmin(f)};c.showAcsScrn=function(){c.runAcsBtn=false;c.loading=true;d.go("PIT2.RequiredTestCases")};c.tcDetails=function(){c.submitBtn=false;c.runAcsBtn=false;c.tcBtn=false;c.loading=true;var g=c.transactionID;var f=c.cmpType;a.reviewTestCase(g,f).success(function(i,h,j){a.data=i;a.cthBckBtn=true;c.loading=true;if(f=="ACS"||f=="ACS_REQUIRED"){d.go("PIT2.reviewACS")}else{a.acsBtnForMPI=true;d.go("PIT2.reviewMPI")}}).error(function(i,h){console.log("error blk");c.loading=true;d.go("PIT2.RequiredTestCases")})}}]);