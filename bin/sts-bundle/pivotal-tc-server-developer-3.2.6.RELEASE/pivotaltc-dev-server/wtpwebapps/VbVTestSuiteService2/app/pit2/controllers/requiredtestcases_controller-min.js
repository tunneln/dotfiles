"use strict";var cthModule=angular.module("CTHModule",[]);cthModule.controller("RequiredTestCasesCtrl",["$scope","$rootScope","CTHRunACSTest","$state",function(b,a,d,c){b.isPageloading=false;b.acsTestcases=[];b.testCaseData={};b.selectedTestCaseObj={};b.noTestCases=false;b.getTestCases=function(){d.getTestCases().then(function e(l){if(l.Testcaseslist!=null&&l.Testcaseslist.length>0){b.acsTestcases=l.Testcaseslist;b.threeDStestCases=l.ThreeDSTestcaseslist;d.acsTestcases=b.acsTestcases;d.threeDStestCases=b.threeDStestCases;for(var j=0;j<b.acsTestcases.length;j++){var g=b.acsTestcases[j].tcName.lastIndexOf("-");var h=b.acsTestcases[j].tcName.substring(0,g);var m=b.acsTestcases[j].tcName.substring(g+1,b.acsTestcases[j].tcName.length).replace("-","");b.acsTestcases[j].tcName=m.trim();b.acsTestcases[j].tcSerNum=h.trim()}for(var j=0;j<b.threeDStestCases.length;j++){var n=b.threeDStestCases[j].tcName.lastIndexOf("-");var p=b.threeDStestCases[j].tcName.substring(0,n);var k=b.threeDStestCases[j].tcName.substring(n+1,b.threeDStestCases[j].tcName.length).replace("-","");b.threeDStestCases[j].tcName=k.trim();b.threeDStestCases[j].tcSerNum=p.trim()}}else{b.noTestCases=true}b.url=l.AcsUrl;if(a.check==true){console.log("Test case id of not tested :: "+a.tcID);var o=b.acsTestcases.map(function(i){return i.tcID}).indexOf(a.tcID);console.log("indexOfSelectedTC :: "+o);b.selectedTestCaseObj=b.acsTestcases[o];console.log("$scope.selectedTestCaseObj :: "+b.selectedTestCaseObj);a.check=false;b.testCaseSelected(b.selectedTestCaseObj)}b.isPageloading=false},function f(g){b.isPageloading=false;b.noTestCases=true;console.log("No test cases found")})};b.getTestCases();b.testCaseSelected=function(e){console.log("selected Test case : "+e);b.onlyACS=true;d.onlyACS=b.onlyACS;if(e!=null&&e!=undefined){b.isPageloading=true;d.getAReq(e.tcID).then(function(f){b.AReq=vkbeautify.json(f.data.RequestMessage,2);b.testCaseData={acsUrl:b.url,testcaseName:e.tcName,AReq:b.AReq,testcaseId:e.tcID};d.selectedTCData=b.testCaseData;c.go("PIT2.CTHrunACSTest");b.isPageloading=false})}else{b.AReq=""}};b.getTestCases1=function(e){b.isACS=false;b.is3DS=false;b.onlyACS=false;d.onlyACS=b.onlyACS;d.acsUrl=b.url;if("ACS"==e){b.isACS=true;b.is3DS=false;d.isACS=b.isACS;d.is3DS=b.is3DS}else{b.is3DS=true;b.isACS=false;d.is3DS=b.is3DS;d.isACS=b.isACS}c.go("PIT2.RequiredACS3DSTestCases")}}]);