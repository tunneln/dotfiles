<div class="thumbnail">
	<div class="panel-heading text-center">
		<span class="lead"><b>Request Compliance Letter</b></span><br>
		<span class="requiredtext" ng-show="isComplRequested"><i>{{requiredText}}</i></span>
	</div>
	<form name="reqComplLetterForm">
		<div data-error-message></div>
		<div ng-show="isPageloading">
			<div class="row text-center">
				<img ng-src="./app/images/acss_imgs/wait.gif" alt="Loading..."
					name="loading" />
			</div>
		</div>
		<div ng-show="!isPageloading">
			<div ng-show="complianceDetails.length == 0">
				<h4>You have not finished testing of all the Required test
					cases. Please proceed with the testing.</h4>
			</div>
			<table class="table table-bordered table-condensed"
				ng-show="complianceDetails.length > 0">
				<thead>
					<tr>
						<th style="width: 36%">Manufacturer</th>
						<th>Product Type</th>
						<th>Registration Date</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="item in complianceDetails">
						<td>{{item.CompanyName}}</td>
						<td>{{item.ProductType}}</td>
						<td>{{item.RegDate}}</td>
						<td ng-if="item.ComplianceStatus=='NA'"><a
							ng-click="showComplRequestTable($index, item)" class="pointer">Request
								for Compliance Letter</a></td>
						<td ng-if="item.ComplianceStatus!='NA'">{{item.ComplianceStatus}}</td>
					</tr>
				</tbody>
			</table>
			<br>
			<div ng-show="isComplRequested">
				<table class="table table-bordered table-condensed">
					<thead>
						<tr>
							<th>Manufacturer:</th>
							<td>{{companyName}}</td>
						</tr>
						<tr>
							<th><div class="required"><label> Product Name: </label></div></th>
							<td><input type="text" ng-model="prodName" ng-required="true"
								name="productName" class="form-control input-sm"
								ng-minlength="2" ng-maxlength="45" autocomplete="off"> <span
								class="help-block"
								ng-messages="reqComplLetterForm.productName.$error"
								ng-class="{ 'has-error':reqComplLetterForm.productName.$touched && reqComplLetterForm.productName.$invalid}"
								ng-if="reqComplLetterForm.productName.$touched">
									<div ng-message="required">This field is required</div>
									<div ng-message="minlength,maxlength">Invalid field
										length, (Min 2, Max 45) characters</div>
							</span></td>
						</tr>
						<tr>
							<th><div class="required"><label>Product Version: </label></div></th>
							<!-- <td contenteditable="true" title="Enter the Product Version**"></td> -->
							<td><input type="text" ng-model="productVersion"
								autocomplete="off" name="productVersion" ng-required="true"
								class="form-control input-sm" ng-minlength="2" ng-maxlength="32">
								<span class="help-block"
								ng-messages="reqComplLetterForm.productVersion.$error"
								ng-class="{ 'has-error':reqComplLetterForm.productVersion.$touched && reqComplLetterForm.productVersion.$invalid}"
								ng-if="reqComplLetterForm.productVersion.$touched">
								<div ng-message="required">This field is required</div>
									<div ng-message="minlength,maxlength">Invalid field
										length,(Min 2 , Max 32) characters.</div>
							</span></td>
						</tr>
						<tr>
							<th>Product Type:</th>
							<td>{{productType}}</td>
						</tr>
						<tr>
							<th>3-D Secure 2.0 Compliant Version:</th>
							<td>{{threeDSVersion}}</td>
						</tr>
						<tr>
							<th ng-if="!isMPI">ACS Reference #</th>
							<th ng-if="isMPI">3DSS Reference #</th>
							<td>{{emvcoRefNo}}</td>
						</tr>

					</thead>
				</table>
				<div class="row text-center" ng-if="!loading">
					<input type="button" value="Submit" name="btn1" ng-disabled="reqComplLetterForm.$invalid"
						class="btn btn-primary btn-sm" ng-click="submitComplLetterReq();">
					<input type="button" class="btn btn-default btn-sm" value="Cancel"
						ng-click="cancelComplLetterReq();">
				</div>
				<div class="row text-center" ng-if="loading">
					<img ng-src="{{ajaxLoaderPath}}" name="loading" />
				</div>
			</div>
		</div>
	</form>
</div>

