<div class="thumbnail">
	<div class="panel-heading text-center">
		<span class="lead"><b>Run Required Test Case</b></span><br>
		<span class="requiredtext"><i>{{requiredText}}</i></span>
	</div>
	<div ng-if="isPageloading">
		<div class="row text-center">
			<img ng-src="./app/images/acss_imgs/wait.gif" name="loading" />
		</div>
	</div>
	<div class="formcontainer" ng-if="!isPageloading">
		<div data-error-message></div>
		<form name="pit2cthrunACSTestForm" ng-submit="submitAReq()"
			method="post" class="form-horizontal">
			<div class="row">
				<div class="form-group col-md-12 required">
					<label class="col-md-4 control-lable"> ACS URL: </label>
					<div class="col-md-7">
						<input type="text" ng-model="$parent.url" name="url" autocomplete="off"
							class="form-control input-sm" ng-required="true" ng-change="urlChange();" />
						<div class="help-block"
							ng-messages="pit2cthrunACSTestForm.url.$error"
							ng-class="{ 'has-error':pit2cthrunACSTestForm.url.$touched && pit2cthrunACSTestForm.url.$invalid}"
							ng-if="pit2cthrunACSTestForm.url.$touched">
							<span data-validation-message></span>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-md-12">
					<label class="col-md-4 control-lable"> Selected Test Case: </label>
					<!-- <div class="col-md-7">
						 <select class="form-control" name="testCase">
						<option value="option1" label="Select"/>
					</select>
						<select class="form-control" ng-model="selectedTestCase"
							ng-options="testCase.tcID as testCase.tcName for testCase in testCases"
							ng-change="change(selectedTestCase)">

						</select>
					</div> -->
					<div class="col-md-7">
						<output>{{selectedTCName}}</output>
					</div>
					
				</div>
			</div>
			<div class="well" ng-if="!$parent.isCTHMPITesting">
				<div class="row">
					<div class="form-group col-md-12">
						<label class="col-md-11 control-lable"> If you would like
							to use the V3DSTS default Account # / Expiry Date, click "Send AReq". If you would
							like to use a test Account # / Expiry Date that has already been configured on your
							ACS, please fill in the below fields and click "Update AReq
							Message". 
						</label>
					</div>
				</div>
				<div align="center" style="color: green;">{{updateSuccMsg}}</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label class="col-md-4 control-lable"> Account #: </label>
						<div class="col-md-7">
							<input type="text" name="panNum" ng-model="$parent.panNumber"
								autocomplete="off" class="form-control input-sm"
								ng-minlength="13" ng-maxlength="19" maxlength="19" ng-pattern="/^[0-9]*$/">
							<div class="help-block"
								ng-messages="pit2cthrunACSTestForm.panNum.$error"
								ng-class="{ 'has-error':pit2cthrunACSTestForm.panNum.$touched && pit2cthrunACSTestForm.panNum.$invalid}"
								ng-if="pit2cthrunACSTestForm.panNum.$touched">
								<div ng-message="pattern">Invalid Account #</div>
								<div ng-message="minlength,maxlength">Account # should be between 13 and 19 digits</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label class="col-md-4 control-lable"> Expiry Date: </label>
						<div class="col-md-7">
							<input type="text" class="form-control input-sm" name="expiryDate" ng-model="$parent.cardExpiryDate"
								autocomplete="off" placeholder="YYMM" ng-pattern="/^([0-9][0-9]{1})(0[1-9]|1[0-2])$/" maxlength="4">
							<div class="help-block"
								ng-messages="pit2cthrunACSTestForm.expiryDate.$error"
								ng-class="{ 'has-error':pit2cthrunACSTestForm.expiryDate.$touched && pit2cthrunACSTestForm.expiryDate.$invalid}"
								ng-if="pit2cthrunACSTestForm.expiryDate.$touched">
								<div ng-message="pattern">Expiry Date must be in the form YYMM</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row text-center">
					<!-- <div class="col-md-11"> -->
						<input type="button" value="Update AReq Message" name="templUpdatebtn"
							class="btn btn-primary btn-sm"
							ng-click="updateTemplateMessage($parent.panNumber,$parent.cardExpiryDate);" ng-disabled="pit2cthrunACSTestForm.panNum.$invalid || pit2cthrunACSTestForm.expiryDate.$invalid">
					<!-- </div> -->
				</div>
			</div>
			<div class="row">
				<div class="form-group col-md-12" ng-class="{'required':$parent.isCTHMPITesting}">
					<label class="col-md-4 control-lable"> AReq Message:<br />
						&nbsp;&nbsp;&nbsp;&nbsp;format: <span><a href
							ng-click="jsonFormat()" class="pointer underline">on</a></span><span>&nbsp;</span><span><a href
							ng-click="jsonUnformat()" class="pointer underline">off</a></span>
					</label>
					<div class="col-md-7">
						<textarea name="AReqMessage" ng-model="$parent.AReq" ng-required="true"
							class="form-control input-sm" rows="15" cols="4" ng-readonly="!$parent.isCTHMPITesting">
						</textarea>
						<div class="help-block"
							ng-messages="pit2cthrunACSTestForm.AReqMessage.$error"
							ng-class="{ 'has-error':pit2cthrunACSTestForm.AReqMessage.$touched && pit2cthrunACSTestForm.AReqMessage.$invalid}"
							ng-if="pit2cthrunACSTestForm.AReqMessage.$touched">
							<span data-validation-message></span>
						</div>
					</div>
				</div>
			</div>
			<hr>
			<div class="row text-center" ng-show="submitBtn">
				<input type="submit" value="Send AReq" name="btn1"
					class="btn btn-primary btn-sm" ng-disabled="pit2cthrunACSTestForm.$invalid">
					<input
					type="button" class="btn btn-default btn-sm" value="Back"
					ng-click="back();">
			</div>
			<div class="row text-center" ng-show="loading">
				<img ng-src="{{ajaxLoaderPath}}" name="loading" />
			</div>
		</form>
	</div>
</div>