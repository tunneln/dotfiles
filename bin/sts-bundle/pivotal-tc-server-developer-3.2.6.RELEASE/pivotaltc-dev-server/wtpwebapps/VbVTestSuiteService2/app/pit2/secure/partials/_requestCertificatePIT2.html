<div class="thumbnail">
	<div class="panel-heading text-center">
		<span class="lead" ng-show = "!showTitle"><b>Request SSL/TLS Certificate</b></span>
		<span class="lead" ng-show = "showTitle"><b>Request Signing Certificate</b></span><br>	
		<span class="requiredtext"><i>{{requiredText}}</i></span>
	</div>
	<div data-error-message></div>
	<div class="formcontainer">

		<form name="requestCertificateForm" method="post"
			class="form-horizontal">
			<div class="row">
				<div class="form-group col-md-12 required">
					<label class="col-md-4 control-lable"> Certificate Type: </label>
					<div class="col-md-7" ng-show = "!showTitle">
						<span ng-repeat="certificate in certificates">
							<input type="radio" value="{{certificate.value}}" ng-model="$parent.certificate">&nbsp;{{certificate.name}}<br/>
						</span>
					</div>
					<div class="col-md-7" ng-show = "showTitle">
						<span ng-repeat="certificate in signCertificates">
							<input type="radio" value="{{certificate.value}}" ng-model="$parent.certificate">&nbsp;{{certificate.name}}<br/>
						</span>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-md-12 required">
					<label class="col-md-4 control-lable"> Email ID: </label>
					<div class="col-md-7">
						<input type="text" placeholder="Enter email" ng-model="email" name="email" 
							class="form-control input-sm" ng-required="true"
							 ng-pattern="/^[_A-Za-z0-9-]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,4})$/"
							 ng-maxlength="255" autocomplete="off"/>
						<div class="help-block"
							ng-messages="requestCertificateForm.email.$error"
							ng-class="{ 'has-error':requestCertificateForm.email.$touched && requestCertificateForm.email.$invalid}"
							ng-if="requestCertificateForm.email.$touched">
							<div ng-message="required">This field is required</div>
							<div ng-message="pattern">Email ID must be in the form 'user@domain'</div>
							<div ng-message="maxlength">Email ID should not exceed more than 255 characters length</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-md-12 required">
					<label class="col-md-4 control-lable">Cert Request (DER):</label>
					<div class="col-md-7">
						<input type="file" id="exampleFile" file-model="fileData"
							autocomplete="off" accept=".bin">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-12">
					<div class="col-md-7">
						<p>--OR--</p>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-12">
					<label class="col-md-4 control-lable"> Cert Request(PEM):</label>
					<div class="col-md-7">
						<textarea name="CertRequestMessage" class="form-control input-sm"
							rows="15" cols="4" ng-model="certRequest">
					</textarea>
						<div class="help-block"
							ng-messages="requestCertificateForm.certRequest.$error"
							ng-class="{ 'has-error':requestCertificateForm.certRequest.$touched && requestCertificateForm.certRequest.$invalid}"
							ng-if="requestCertificateForm.certRequest.$touched">
							<span data-validation-message></span>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="row">
				<div class="form-group col-md-12">
					<label class="col-md-10 has-error"> Note: * means "required" </label>
				</div>
			</div> -->
			<hr>
			<div class="row text-center" ng-if="!loading">
			<input type="button" value="Back" 
					class="btn btn-primary btn-sm" ng-click="back()">
				<input type="submit" value="Submit" ng-disabled="requestCertificateForm.$invalid"
					class="btn btn-primary btn-sm" ng-click="save()">
				<input type="button" value="Reset" class="btn btn-default btn-sm"
					ng-click="resetForm(showTitle)">
			</div>
			<div class="row text-center" ng-if="loading">
				<img ng-src="{{ajaxLoaderPath}}" name="loading" />
			</div>
		</form>
	</div>
</div>
